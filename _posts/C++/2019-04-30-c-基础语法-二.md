---
layout: post
title: c++ 基础语法（二）
date: 2019-04-30 20:16 -0600
categories: Tech
tags: [c++]
---

本节讲到：

1. 运算符及优先级
2. 循环
3. 判断
4. 函数


### C++ 运算符

#### 算术运算符

`+`,`-`,`*`,`/`,`%`(取模得余数),`++`,`--`

#### 关系运算符

`==`,`!=`,`>`,`<`,`>=`,`<=`

#### 逻辑运算符

`&&`,`||`,`!`

#### 位运算符

`&`,`|`,`^`,`~`,`<<`,`>>`

| `p` | `q` |`p&q`|`p|q`|`p^q`|
|-----|-----|-----|-----|-----|
|  0  |  0  |  0  |  0  |  0  |
|  0  |  1  |  0  |  1  |  1  |
|  1  |  1  |  1  |  1  |  0  |
|  1  |  0  |  0  |  1  |  1  |

#### 赋值运算符

`=`,`+=`,`-=`,`*=`,`/=`,`%=`,`<<=`,`>>=`,`&=`,`^=`,`|=`

#### 杂项运算符

- `sizeof`: sizeof 运算符返回变量的大小。例如，sizeof(a) 将返回 4，其中 a 是整数。
- `Condition ? X:Y`: 条件运算符。如果 Condition 为真 ? 则值为 X : 否则值为 Y。
- `Cast`: 强制转换运算符把一种数据类型转换为另一种数据类型。例如，int(2.2000) 将返回 2。
- `&`: 指针运算符 & 返回变量的地址。
- `*`: 指针运算符 * 指向一个变量。

#### C++ 中的运算符优先级
...

#### C++ 强制转换运算符

- `const_cast<type>(expr)`:const_cast 运算符用于修改类型的 const / volatile 属性。除了 const 或 volatile 属性之外，目标类型必须与源类型相同。这种类型的转换主要是用来操作所传对象的 const 属性，可以加上 const 属性，也可以去掉 const 属性。

- `dynamic_cast<type> (expr)`:dynamic_cast 在运行时执行转换，验证转换的有效性。如果转换未执行，则转换失败，表达式 expr 被判定为 null。dynamic_cast 执行动态转换时，type 必须是类的指针、类的引用或者 void*，如果 type 是类指针类型，那么 expr 也必须是一个指针，如果 type 是一个引用，那个 expr 也必须是一个引用。

- `reinterpret_cast<type> (expr)`: reinterpret_cast 运算符把某种指针改为其他类型的指针。它可以把一个指针转换为一个整数，也可以把一个整数转换为一个指针。

- `static_cast<type> (expr)`: static_cast 运算符执行非动态转换，没有运行时类检查来保证转换的安全性。例如，它可以用来把一个基类指针转换为派生类指针。


### C++ 循环

#### 循环类型

|循环|描述|  
|---|---|  
|`while`循环|while 循环	当给定条件为真时，重复语句或语句组。它会在执行循环主体之前测试条件。|  
|`for`循环|多次执行一个语句序列，简化管理循环变量的代码。|  
|`do...while`循环|除了它是在循环主体结尾测试条件外，其他与 while 语句类似。|  
|嵌套循环|您可以在 while、for 或 do..while 循环内使用一个或多个循环。|  

#### 循环控制

|控制语句|描述|
|---|---|
|`break`语句|终止 `loop` 或 `switch` 语句，程序流将继续执行紧接着 `loop` 或 `switch` 的下一条语句。|
|`continue`语句|引起循环跳过主体的剩余部分，立即重新开始测试条件。|
|`goto`语句|将控制转移到被标记的语句。但是不建议在程序中使用 goto 语句。|


#### 无限循环
如果条件永远不为假，则循环将变成无限循环。for 循环在传统意义上可用于实现无限循环。由于构成循环的三个表达式中任何一个都不是必需的，您可以将某些条件表达式留空来构成一个无限循环。

```
for( ; ; )
```

当条件表达式不存在时，它被假设为真。您也可以设置一个初始值和增量表达式，但是一般情况下，C++ 程序员偏向于使用 for(;;) 结构来表示一个无限循环。

注意：您可以按 Ctrl + C 键终止一个无限循环。


### 判断

#### 判断语句

| 语句 | 描述 |
|-----|-----|
| `if`语句 | 一个 if 语句 由一个布尔表达式后跟一个或多个语句组成。 |
| `if...else`语句 | 一个 if 语句 后可跟一个可选的 else 语句，else 语句在布尔表达式为假时执行。 |
| 嵌套`if`语句 | 您可以在一个 if 或 else if 语句内使用另一个 if 或 else if 语句。 |
| `switch`语句 | 一个 switch 语句允许测试一个变量等于多个值时的情况。 |
| 嵌套`switch`语句 | 您可以在一个 switch 语句内使用另一个 switch 语句。 |

#### `? :` 运算符

```
Exp1 ? Exp2 : Exp3;
```

### 函数

函数是一组一起执行一个任务的语句。每个 C++ 程序都至少有一个函数，即主函数 `main()` ，所有简单的程序都可以定义其他额外的函数。

函数声明告诉编译器函数的名称、返回类型和参数。函数定义提供了函数的实际主体。

C++ 标准库提供了大量的程序可以调用的内置函数。

#### 定义函数

```
\\ 函数声明: 在函数声明中，参数的名称并不重要 (int max(int, int);)
return_type function_name( parameter list )
{
   body of the function
}
```

- 返回类型：一个函数可以返回一个值。return_type 是函数返回的值的数据类型。有些函数执行所需的操作而不返回值，在这种情况下，return_type 是关键字 void。
- 函数名称：这是函数的实际名称。函数名和参数列表一起构成了函数签名。
- 参数：参数就像是占位符。当函数被调用时，您向参数传递一个值，这个值被称为实际参数。参数列表包括函数参数的类型、顺序、数量。参数是可选的，也就是说，函数可能不包含参数。
- 函数主体：函数主体包含一组定义函数执行任务的语句。

#### 函数声明
当您在一个源文件中定义函数且在另一个文件中调用函数时，函数声明是必需的。在这种情况下，您应该在调用函数的文件顶部声明函数。

#### 函数参数


如果函数要使用参数，则必须声明接受参数值的变量。这些变量称为函数的形式参数。

形式参数就像函数内的其他局部变量，在进入函数时被创建，退出函数时被销毁。

当调用函数时，有两种向函数传递参数的方式：

##### 传值调用
该方法把参数的实际值复制给函数的形式参数。在这种情况下，修改函数内的形式参数对实际参数没有影响。

##### 指针调用
该方法把参数的地址复制给形式参数。在函数内，该地址用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数。

##### 引用调用
该方法把参数的引用复制给形式参数。在函数内，该引用用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数。

#### 参数的默认值
当您定义一个函数，您可以为参数列表中后边的每一个参数指定默认值。当调用函数时，如果实际参数的值留空，则使用这个默认值。

这是通过在函数定义中使用赋值运算符来为参数赋值的。调用函数时，如果未传递参数的值，则会使用默认值，如果指定了值，则会忽略默认值，使用传递的值。

#### Lambda 函数与表达式

C++11 提供了对匿名函数的支持,称为 Lambda 函数(也叫 Lambda 表达式)。

Lambda 表达式把函数看作对象。Lambda 表达式可以像对象一样使用，比如可以将它们赋给变量和作为参数传递，还可以像函数一样对其求值。

Lambda 表达式本质上与函数声明非常类似。Lambda 表达式具体形式如下:

...
